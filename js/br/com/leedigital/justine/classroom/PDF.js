import Document from"./Document.js";import ContentPanel from"../../../../../ContentPanel.js";import Page from"./Page.js";import{UTIL}from"./util/Util.js";export default class PDF extends Document{constructor(e,t){super(e,t)}init(e,t){const n=this.pages,o=this,r=pdfjsLib.getDocument(e),a=this.innerContentElementPanel,i=window.outerWidth,m=window.outerHeight,s=Math.max(i/m,m/i);a.innerHTML=null;const l=document.createDocumentFragment();r.promise.then((function(e){const r=e.numPages;o.pageStartElement.min=1,o.pageStartElement.max=r;for(let i=1;i<=r;i++)e.getPage(i).then((function(e){const m=new Page(o,e);m.title=o.title,n.push(m),m.render(s),l.appendChild(m.pageElement),m.restore(),i===r&&setTimeout((()=>{a.appendChild(l),o.contentPanel.reset(),o.pageManager(t.contentElement),UTIL.hiddenProgressBar()}),100)}))}))}}